# WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING
#
# If you are modifying this file, you almost surely also want to
# modify pkg/es/config_request.go. The DefaultConfigRequest() function
# sets all of the real defaults.
#
# The duplication is necessary currently since our tests and studio
# require automate-elasticsearh be launchable without the deployment
# service.
#
# WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING
[cluster]
  #
  # Use a descriptive name for your cluster:
  #
  name = "opensearch"

  [cluster.routing.allocation]
    #
    # How many concurrent shard recoveries are allowed to happen on a node.
    # Defaults to 2.
    #
    node_concurrent_recoveries = "2"
    #
    # While the recovery of replicas happens over the network, the recovery of
    # an unassigned primary after node restart uses data from the local disk.
    # These should be fast so more initial primary recoveries can happen in
    # parallel on the same node. Defaults to 4.
    #
    node_initial_primaries_recoveries = "4"
    #
    # Allows to perform a check to prevent allocation of multiple instances of
    # the same shard on a single host, based on host name and host address.
    # Defaults to false, meaning that no check is performed by default. This
    # setting only applies if multiple nodes are started on the same machine.
    #
    same_shard_host = "false"
    #
    # https://www.elastic.co/guide/en/elasticsearch/reference/2.3/allocation-awareness.html
    #
    awareness_attributes = ""
#
# ------------------------------------ Node ------------------------------------
#
[node]
  # Use a descriptive name for the node:
  #
  name = ""
  #
  # Add custom attributes to the node:
  #
  # node.rack: r1
  #
  rack_id = ""
  zone    = ""
  #
  # Disable starting multiple nodes on a single system:
  #
  max_local_storage_nodes = 1
  #
  # Configure node as master-only, master-eligible, data-only, or client
  # (https://www.elastic.co/guide/en/elasticsearch/reference/2.3/modules-node.html#master-node)
  # Default is master-eligible (master and data are both "true")
  #
  master = true
  data   = true

#
# ----------------------------------- Paths ------------------------------------
#
[path]
  #
  # Path to directory where to store the data (separate multiple locations by comma):
  #
  data =    ""
  #
  # Path to log files:
  #
  logs =    "logs"
  #
  # Path to backup repository
  repo = ""

#
# ----------------------------------- Indices ----------------------------------
#
[indices]
  [indices.recovery]
    max_bytes_per_sec  =            "20mb"

  [indices.fielddata]
    #
    # The max size of the field data cache, eg 30% of node heap space, or an absolute
    # value, eg 12GB. Defaults to unbounded.
    #
    cache_size =                   ""

  [indices.breaker]
    #
    # Starting limit for overall parent breaker, defaults to 70% of JVM heap.
    #
    total_limit =                    "70%"
    #
    # Limit for fielddata breaker, defaults to 60% of JVM heap.
    #
    fielddata_limit =                "60%"
    #
    # A constant that all field data estimations are multiplied with to determine a
    # final estimation. Defaults to 1.03
    #
    fielddata_overhead =             "1.03"
    #
    # Limit for request breaker, defaults to 40% of JVM heap.
    #
    request_limit =                  "40%"
    #
    # A constant that all request estimations are multiplied with to determine a
    # final estimation. Defaults to 1.
    #
    request_overhead =               "1"

#
# ----------------------------------- Memory -----------------------------------
#
[bootstrap]
  # Lock the memory on startup:
  #
  memory_lock = false
  #
  # Make sure that the heap size is set to about half the memory available
  # on the system and that the owner of the process is allowed to use this
  # limit.
  #
  # Elasticsearch performs poorly when the system is swapping the memory.
  #

#
# ---------------------------------- Network -----------------------------------
#
[network]
  #
  # Set the bind address to a specific IP (IPv4 or IPv6):
  #
  host =  "0.0.0.0"
  #
  # Set a custom port for HTTP:
  #
  port = 9200
  #
  # For more information, see the documentation at:
  # <http://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html>

[transport]
  port = 9300

#
# --------------------------------- Discovery ----------------------------------
#
[discovery]
  # Pass an initial list of hosts to perform discovery when new node is started:
  # The default list of hosts is ["127.0.0.1", "[::1]"]
  #
  ping_unicast_hosts = "[]"
  #
  # Prevent the "split brain" by configuring the majority of nodes (total number of nodes / 2 + 1):
  #
  minimum_master_nodes = 1
  #
  # For more information, see the documentation at:
  # <http://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery.html>
  #
  zen_fd_ping_timeout = "30s"

#
# ---------------------------------- Gateway -----------------------------------
#
[gateway]
  #
  # Block initial recovery after a full cluster restart until N nodes are started:
  #
  recover_after_nodes   = ""
  #
  # The number of (data or master) nodes that are expected to be in the cluster.
  # Recovery of local shards will start as soon as the expected number of nodes
  # have joined the cluster. Defaults to 0
  #
  expected_nodes        = "0"
  #
  # The number of master nodes that are expected to be in the cluster. Recovery
  # of local shards will start as soon as the expected number of master nodes
  # have joined the cluster. Defaults to 0
  #
  expected_master_nodes = "0"
  #
  # The number of data nodes that are expected to be in the cluster. Recovery of
  # local shards will start as soon as the expected number of data nodes have
  # joined the cluster. Defaults to 0
  #
  expected_data_nodes   = "0"
  #
  # If the expected number of nodes is not achieved, the recovery process waits
  # for the configured amount of time before trying to recover regardless.
  # Defaults to 5m if one of the expected_nodes settings is configured.
  #
  recover_after_time    = ""
  #
  # For more information, see the documentation at:
  # <http://www.elastic.co/guide/en/elasticsearch/reference/current/modules-gateway.html>
  #

#
# ---------------------------------- Various -----------------------------------
#
[action]
  #
  # Require explicit names when deleting indices:
  #
  destructive_requires_name  = "true"

# ======================== Elasticsearch Logger Configuration =========================
[logger]
  level = "info"

# ======================== Elasticsearch Plugins Configuration =========================
[plugins]
  cloud_aws_signer = ""
  #security.ssl.http.enabled = false
# ======================== Runtime Configuration =========================
[runtime]
  max_open_files = ""
  max_locked_memory = "unlimited"
  es_startup_sleep_time = ""
  es_java_opts = ""
  heapsize = "2g"

[deprecated]
external_es = false

[opensearch_auth]
  admin_username = "admin"
  admin_password = "admin"

[tls]
# root pem cert that signed the two cert/key pairs below# root pem cert that signed the two cert/key pairs below
rootCA = """-----BEGIN CERTIFICATE-----
MIIDnTCCAoWgAwIBAgIJAIoNEkb10I20MA0GCSqGSIb3DQEBCwUAMGUxCzAJBgNV
BAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRow
GAYDVQQKDBFDaGVmIFNvZnR3YXJlIEluYzETMBEGA1UEAwwKY2hlZnJvb3RjYTAe
Fw0yMjA0MTExMjA1MDZaFw0yNTA0MTAxMjA1MDZaMGUxCzAJBgNVBAYTAlVTMRMw
EQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRowGAYDVQQKDBFD
aGVmIFNvZnR3YXJlIEluYzETMBEGA1UEAwwKY2hlZnJvb3RjYTCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBALHK9PyA385pXHliykny49CyFKV5yC0y+NtO
5T+ao61+36N4hgSwEc/iiwTB1YhlnWTIiYm1SGvVMPt/IElNixvZpOjNOl6OnfSo
jMZvKyizSfUY5N2H+VvVMUsXYsgx7NYKHqzdW//UAtuZvXDZR/9UHsYQ5m6RjSYi
wzS4xxgjFLNW9+3Bb93LGamf2Ugoq1hBhFQCcvnbNV8cJZ+IjtinVMqPvHGhmIcc
bDF0SZdOn+6fyhK9WnEittTrO8TtsaeFL/uDHcIzaU1W11di3NeuUidZJyoXWft1
iPOQTu1Pc29qPAYUf310wD+QjColFATq0N3Z3nYe7zZwdc3P61kCAwEAAaNQME4w
HQYDVR0OBBYEFHKz119+at316wkQgbrXGkX1bCNvMB8GA1UdIwQYMBaAFHKz119+
at316wkQgbrXGkX1bCNvMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEB
ADrTRJJT72V2J1oYnwXPNf/DKuJbO/Ay+T05k5d4Ku/kFVEKYnriDet0wCuiZRFM
swTNXb+2abHZReZnOXjZTvpFUICI23KE4jJR4LLkT9tVlrjwoEnESWMcSsHp1Jl7
Xe3FKz/RJaWEVWjyDTAVQPS2RBW0LlLN0CXFD474yEg3OU0aOSn2vDxf+F2322gW
KUQq1NRVVXLGU5OZLImnxJUth08Yb41K/+RAfYrJU47A0aiJtjOOeMHvqy0DIok8
U8mAHQwuJOAcqBCYSDFTI9cCRbhXdW+5XVgO3ahtOEhaA4cgnu7nfagp5Wypu+Vr
XO/Cz+iuZY7J5mbNid/Nohs=
-----END CERTIFICATE-----"""
# Certificate used for admin actions against https://9200
admin_cert = """-----BEGIN CERTIFICATE-----
MIIDRTCCAi0CCQD0epNwTh/ZxjANBgkqhkiG9w0BAQsFADBlMQswCQYDVQQGEwJV
UzETMBEGA1UECAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UE
CgwRQ2hlZiBTb2Z0d2FyZSBJbmMxEzARBgNVBAMMCmNoZWZyb290Y2EwHhcNMjIw
NDExMTIwNTA2WhcNMjUwNDEwMTIwNTA2WjBkMQswCQYDVQQGEwJVUzETMBEGA1UE
CAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UECgwRQ2hlZiBT
b2Z0d2FyZSBJbmMxEjAQBgNVBAMMCWNoZWZhZG1pbjCCASIwDQYJKoZIhvcNAQEB
BQADggEPADCCAQoCggEBAK8nuryBG0O67lrCF7fby2BN5fF2TqxJOkEU9USzmizG
TLZv+kTj+waQy/FBcvHtodT3Xw5UOf05jKKV+tqRztr7VrRwoaEnJQv8iDkIBdR8
QjOkpnpiPbAS6bcyvaicZoQn2yxk1rQM7tFH8O6crdrXdio93FTeb6BZCPEcWTaT
Jr0ubZmXZn3TCJXbcI575IIFaHnv5W3wCPzp8GewlG87BlwvqEKPOBQpUsT8wKDN
2QSVX7nr9txm+SzH+o24PAwJs4Gg8LcqUHqKbc/gX8XfbFkBOhJLN9G45lGsP9Km
cRe+b6OvVfQM2DWR5VyqF9WCV/8b/OqLsGuTTvddRHMCAwEAATANBgkqhkiG9w0B
AQsFAAOCAQEAjjQBCtjh0AthbSGjcsSln4ZVqk12B+90MfCcLQActTzvS5mpSd+d
EZKECgkpigJZsR4NUmngmxQlyWZLh1Mq6ifFYheWnEv8jQjZS2TlioMNel6hl0OX
169XrYu8Na1DOukFy6MzUf4uuwwApRdb1EoHUIBJcTx+0CqvyzaYtfHvuOaTlVbF
nptXDocF1jjwz/1A5ahIgeRUoxk2LglMFXeI302fCMq22OmsFOcgTRNMKVfeSsoy
kqv+sPGGX3ifQCa3yVs7jz+H+dsL6d/YiiNXgcb44kZAVwkWfpW6SlnUDkdSyZLy
ZMc4NYuvPZ/ACoYJFCf6O7dFWe/WVaGVTg==
-----END CERTIFICATE-----"""
# the private key associated with the above pem cert
admin_key = """-----BEGIN PRIVATE KEY-----
MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCvJ7q8gRtDuu5a
whe328tgTeXxdk6sSTpBFPVEs5osxky2b/pE4/sGkMvxQXLx7aHU918OVDn9OYyi
lfrakc7a+1a0cKGhJyUL/Ig5CAXUfEIzpKZ6Yj2wEum3Mr2onGaEJ9ssZNa0DO7R
R/DunK3a13YqPdxU3m+gWQjxHFk2kya9Lm2Zl2Z90wiV23COe+SCBWh57+Vt8Aj8
6fBnsJRvOwZcL6hCjzgUKVLE/MCgzdkElV+56/bcZvksx/qNuDwMCbOBoPC3KlB6
im3P4F/F32xZAToSSzfRuOZRrD/SpnEXvm+jr1X0DNg1keVcqhfVglf/G/zqi7Br
k073XURzAgMBAAECggEADE4CNFPtkmiDbiTMfcIXG4DdcoUZKclLKl9Ki7UCU7rq
kLZ1InnRnLh3W095v70t7UQjjWIlYMC2PIXExa4QlhmqEasH78ZMN/dZqogBwNep
3u7mMxrLsp7hhFkwMbQrD4WtRAUhgCyYamNfbaPcIs+YIYeO/vdRaDZZBnczXT4D
Z9ETXYOPx6qfwocS28v1OWlbU0Fobg+v5fm2uNrycE4PcLvHq6qrWm5/rcj/jams
Pnur77im70ivu5qlOlAYX52iQQ14WMsKMbbJfyRqB0H8aeUukoDieCWZAUHag7b5
nKLDVZ/i2zUbf8lnpk6k0Hzw0Evrvwjun5ubEgX8QQKBgQDcks/tFf1Yq0JZlV/k
mBFcKitRp57gFPo98GTJS/xS286JD4hUrUk9//It4VvoCJac8rIsjvilMeJj5HS4
dC0cydsd5RifsCKXSs4UzoIq1EHKaEAqFKr26NG/sXhYPh/g4/OSdgB7vnAhtO6+
1Wq0XsnEPj+bLBbiVVUr6ihnmQKBgQDLSXsEQyk3rfSUeG3m/kQ4a4DcEeLxXBFD
gWvCNhQoCipyPug/0aPj/6Z08WFiHydWTmOfEqyqadDtHtLg2dvukM4stFikTq6X
VmGlaK9SxAUS7xvIKwdmcMuB4TYkNlxz+iqBE7Qp4m5MzjXA5olHfNnd+KVxXwCc
rkA2T6Zj6wKBgHFT3RDrI2fTVhvA66v/lavM3sTtYmuvW4NHaAEk0VehJ9Sz7k/T
WLZKMpvwFdB52Sh6aaELNCVsI+0/C9lZl3QbIkGR27zwOlWRUaDPGYH33HWqao00
YULLDDl5bWOpR6e8dwDhMA5kIiivVZsm+9QAf5ocgYGwfXF8dm5BuNDBAoGAF38j
x+dXYUcrCOoukc975SWP3F/44jrpB+tyoB0OEV6zb0cUIyRBFD5daBDqV6QQMOqY
my9WY9AdRPsWFsU3pYh5PDOQN1Wc2oMygCLseN2NVJXsmSNYFKAe9aEpV+AsqX8V
4Jt9bIXuh9Qh5G0BGxE0QXLW9JathG6jn2NvcQcCgYAQA1Oj5C+FUt/w493fTLGW
L4XBMOpv5nRvJfZBA5/QiECG2roYCKHeDtWnZ+GTxfgUIuVNlT4d2beE/XGVqLI0
ANgdF3+JGziVQiVHMDESNQb6w13mZfLvkEyLZGS4jn9U1E8YJ8x4CvLCrw+m8EUC
rnGJS3Hi6dG3AIcMXnyCDg==
-----END PRIVATE KEY-----"""
# Certificate used for intracluster ssl on port 9300
ssl_cert = """-----BEGIN CERTIFICATE-----
MIIDRDCCAiwCCQD0epNwTh/ZxzANBgkqhkiG9w0BAQsFADBlMQswCQYDVQQGEwJV
UzETMBEGA1UECAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UE
CgwRQ2hlZiBTb2Z0d2FyZSBJbmMxEzARBgNVBAMMCmNoZWZyb290Y2EwHhcNMjIw
NDExMTIwNTA2WhcNMjUwNDEwMTIwNTA2WjBjMQswCQYDVQQGEwJVUzETMBEGA1UE
CAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UECgwRQ2hlZiBT
b2Z0d2FyZSBJbmMxETAPBgNVBAMMCGNoZWZub2RlMIIBIjANBgkqhkiG9w0BAQEF
AAOCAQ8AMIIBCgKCAQEAsGYZqD4Et57L+h4NUsGhxC91IQ/3Aq0kngVeKKqmNpJ6
/8jwTQd+X26CmOZl2ctRQfqKGkEvZ9WoXeqQsqJh6p2SXjfCTeKEv/AOMX/P1OmV
FqotMTlzkA5X3oGxclL2beLafn9wYpWnco0OOrdbrOQLMev6Piz9V3zDi6RLtgC1
sDJj2vpG0inmgQudJiQgyNSJ9vmyKPeV2uEFNIsR6v3mQJb9DZcRDHYkCHg2Nqo9
LXPMsNruclRctqMoG8N5cGmjBKa8ia2JU+AeJ+XkrhB1YtkgwWC5hTjb7p+m7hf6
VnWKykxB/SFvfE84kLh0sYqpAL7ybKXwF93rbbqahQIDAQABMA0GCSqGSIb3DQEB
CwUAA4IBAQBtf9FrMvOjYkoQXyEM48Q2DafMiBSSM6himCYJRGcvALgPzTWZmxUG
vgLrfZx1WXr2HWsLCgs23J8AOt0ZPGO7jRghnOuGv/aO+MJtTdA3PpB2bTw5ztIj
AOCJtWzeipvjbC8rlcIGTINqVbBTW7zJnPerorN84OnReeymuOxWIXKumoqFcZcY
cBIq65Ad/9eR507rVH2N83uyBkonRgZKKAottFeGcHVdvNpn7ekJPxgYr6XhsLFh
rs5ZDeMcwAIWIA/ULaXoq05OTKrIbPENbnlOOikYc8iQSxHElGXa9yoYX0LIO0Vc
5JP6Rr6DCI+Ke1P/Ci8uNjods9AnPB+u
-----END CERTIFICATE-----"""
# the private key associated with the above pem cert
ssl_key = """-----BEGIN PRIVATE KEY-----
MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQCwZhmoPgS3nsv6
Hg1SwaHEL3UhD/cCrSSeBV4oqqY2knr/yPBNB35fboKY5mXZy1FB+ooaQS9n1ahd
6pCyomHqnZJeN8JN4oS/8A4xf8/U6ZUWqi0xOXOQDlfegbFyUvZt4tp+f3Bilady
jQ46t1us5Asx6/o+LP1XfMOLpEu2ALWwMmPa+kbSKeaBC50mJCDI1In2+bIo95Xa
4QU0ixHq/eZAlv0NlxEMdiQIeDY2qj0tc8yw2u5yVFy2oygbw3lwaaMEpryJrYlT
4B4n5eSuEHVi2SDBYLmFONvun6buF/pWdYrKTEH9IW98TziQuHSxiqkAvvJspfAX
3ettupqFAgMBAAECggEBAJEjgOrYFIOMqeJjBa1Y2qQUNDh+7UuLcLyASCgHuPjf
70o0Z9vJVaZpxBTQRW89Bd/Wp/jQN5QkzQJxNJt2VkB3Y+4XzMzOm1Fd0B/UPQm/
I0dhwAtnbPlTg+L1LS6WqmJhrEs2yh6jagIro1CWe1y2yatKsTylQdHROwfTp+PY
NYQrKEp9OlF0XxcFGpPVhNR453GptrCWYsaiSVyNkgRL0vi19GZHh9+EaJQ1K8US
1DcS5IiFiVhV/2SKhiWqp4FGm2F2fFAY+HFZzf6UYT9R6SIx4UZwwAjOiAbLtLjf
W89n3SjfkEnCtDtkpZFm9iC7YVgnMQgkeWvnObID8kUCgYEA31+jBzdNT+MndJWi
+cdIyRBi7I+1dBg6VFGW/KTZN1ZillLkeE4RH3TZTkEdPGxFC4hq7cosTiAlEu34
OuuqjUmmw/rgTXNL+TOQuMOrYk1UVuw0Mpbv6jZznWd7UKd1UOADmCVU7XqJdX7y
Fpc5N672S6KtEaoN/BTkRrrkhvMCgYEAyin87923W5i60kwCmhIJcUzUGPzl2cvq
DUGxEsw2KguCQ1mNN4KA+OwTAngHyQSteTCq/F3vPFpy0W6R4BkcYLoTcCjlTG69
jFYPbmQWzw+jGiqc4Y4MTYDdEDRzeb3oHpqW5lcQx9+DEFOG5ZEpyQ24NAwe2h8c
U0hp93OHpqcCgYEAyfgWV3r4a6hPT4nRP5miRTKMz6qs/di+POk85RlE0lVIdPVk
YSbtMo0bwzb68VxQHbpuPK2V29oSy4fh75yQrImQwRlA4KbEZgHq9DTv7MVQ4ftW
wvtY2GP9q7AafvW7DLJQbawrm0I1schjqmt3r9KCHidr51HkrS5SrWVlJmMCgYAi
LpFG2V0sTpmf/xwdgtk33/6orvIKLlFHpojTHdY2q7V9v8GB1j4KWJgqPbNLSNAw
AouWmideNAjf4msl0fkbXbr1puSGVN8VwGNhjejRX9p7DSNze7oWzKgUGlpABl0d
95N2JNiAgwk9FHJllHLVPM2dd0MsLEB00HSiU1VnVwKBgQDY1FW/cHpj/j3rIotV
gEgxR77mWOrxjvYWn+ecUVRFafvsgHBOUj7GdARGfDCUtqOfPySh8VObhHgrnIGJ
pHCcZ9oHjHrQhfLyJucL9X3ehh8NNOcaOau0gFLAHX11NJ/KGb1PUBoKEyl+KN1g
BlEk1sppenYxx7kpeW/8Y4enPw==
-----END PRIVATE KEY-----"""
