# WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING
#
# If you are modifying this file, you almost surely also want to
# modify pkg/es/config_request.go. The DefaultConfigRequest() function
# sets all of the real defaults.
#
# The duplication is necessary currently since our tests and studio
# require automate-elasticsearh be launchable without the deployment
# service.
#
# WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING
[cluster]
  #
  # Use a descriptive name for your cluster:
  #
  name = "opensearch"

  [cluster.routing.allocation]
    #
    # How many concurrent shard recoveries are allowed to happen on a node.
    # Defaults to 2.
    #
    node_concurrent_recoveries = "2"
    #
    # While the recovery of replicas happens over the network, the recovery of
    # an unassigned primary after node restart uses data from the local disk.
    # These should be fast so more initial primary recoveries can happen in
    # parallel on the same node. Defaults to 4.
    #
    node_initial_primaries_recoveries = "4"
    #
    # Allows to perform a check to prevent allocation of multiple instances of
    # the same shard on a single host, based on host name and host address.
    # Defaults to false, meaning that no check is performed by default. This
    # setting only applies if multiple nodes are started on the same machine.
    #
    same_shard_host = "false"
    #
    # https://www.elastic.co/guide/en/elasticsearch/reference/2.3/allocation-awareness.html
    #
    awareness_attributes = ""
#
# ------------------------------------ Node ------------------------------------
#
[node]
  # Use a descriptive name for the node:
  #
  name = ""
  #
  # Add custom attributes to the node:
  #
  # node.rack: r1
  #
  rack_id = ""
  zone    = ""
  #
  # Disable starting multiple nodes on a single system:
  #
  max_local_storage_nodes = 1
  #
  # Configure node as master-only, master-eligible, data-only, or client
  # (https://www.elastic.co/guide/en/elasticsearch/reference/2.3/modules-node.html#master-node)
  # Default is master-eligible (master and data are both "true")
  #
  master = true
  data   = true

#
# ----------------------------------- Paths ------------------------------------
#
[path]
  #
  # Path to directory where to store the data (separate multiple locations by comma):
  #
  data =    ""
  #
  # Path to log files:
  #
  logs =    "logs"
  #
  # Path to backup repository
  repo = ""

#
# ----------------------------------- Indices ----------------------------------
#
[indices]
  [indices.recovery]
    max_bytes_per_sec  =            "20mb"

  [indices.fielddata]
    #
    # The max size of the field data cache, eg 30% of node heap space, or an absolute
    # value, eg 12GB. Defaults to unbounded.
    #
    cache_size =                   ""

  [indices.breaker]
    #
    # Starting limit for overall parent breaker, defaults to 70% of JVM heap.
    #
    total_limit =                    "70%"
    #
    # Limit for fielddata breaker, defaults to 60% of JVM heap.
    #
    fielddata_limit =                "60%"
    #
    # A constant that all field data estimations are multiplied with to determine a
    # final estimation. Defaults to 1.03
    #
    fielddata_overhead =             "1.03"
    #
    # Limit for request breaker, defaults to 40% of JVM heap.
    #
    request_limit =                  "40%"
    #
    # A constant that all request estimations are multiplied with to determine a
    # final estimation. Defaults to 1.
    #
    request_overhead =               "1"

#
# ----------------------------------- Memory -----------------------------------
#
[bootstrap]
  # Lock the memory on startup:
  #
  memory_lock = false
  #
  # Make sure that the heap size is set to about half the memory available
  # on the system and that the owner of the process is allowed to use this
  # limit.
  #
  # Elasticsearch performs poorly when the system is swapping the memory.
  #

#
# ---------------------------------- Network -----------------------------------
#
[network]
  #
  # Set the bind address to a specific IP (IPv4 or IPv6):
  #
  host =  "0.0.0.0"
  #
  # Set a custom port for HTTP:
  #
  port = 9200
  #
  # For more information, see the documentation at:
  # <http://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html>

[transport]
  port = 9300

#
# --------------------------------- Discovery ----------------------------------
#
[discovery]
  # Pass an initial list of hosts to perform discovery when new node is started:
  # The default list of hosts is ["127.0.0.1", "[::1]"]
  #
  ping_unicast_hosts = "[]"
  #
  # Prevent the "split brain" by configuring the majority of nodes (total number of nodes / 2 + 1):
  #
  minimum_master_nodes = 1
  #
  # For more information, see the documentation at:
  # <http://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery.html>
  #
  zen_fd_ping_timeout = "30s"

#
# ---------------------------------- Gateway -----------------------------------
#
[gateway]
  #
  # Block initial recovery after a full cluster restart until N nodes are started:
  #
  recover_after_nodes   = ""
  #
  # The number of (data or master) nodes that are expected to be in the cluster.
  # Recovery of local shards will start as soon as the expected number of nodes
  # have joined the cluster. Defaults to 0
  #
  expected_nodes        = "0"
  #
  # The number of master nodes that are expected to be in the cluster. Recovery
  # of local shards will start as soon as the expected number of master nodes
  # have joined the cluster. Defaults to 0
  #
  expected_master_nodes = "0"
  #
  # The number of data nodes that are expected to be in the cluster. Recovery of
  # local shards will start as soon as the expected number of data nodes have
  # joined the cluster. Defaults to 0
  #
  expected_data_nodes   = "0"
  #
  # If the expected number of nodes is not achieved, the recovery process waits
  # for the configured amount of time before trying to recover regardless.
  # Defaults to 5m if one of the expected_nodes settings is configured.
  #
  recover_after_time    = ""
  #
  # For more information, see the documentation at:
  # <http://www.elastic.co/guide/en/elasticsearch/reference/current/modules-gateway.html>
  #

#
# ---------------------------------- Various -----------------------------------
#
[action]
  #
  # Require explicit names when deleting indices:
  #
  destructive_requires_name  = "true"

# ======================== Elasticsearch Logger Configuration =========================
[logger]
  level = "info"

# ======================== Elasticsearch Plugins Configuration =========================
[plugins]
  cloud_aws_signer = ""
  #security.ssl.http.enabled = false
# ======================== Runtime Configuration =========================
[runtime]
  max_open_files = ""
  max_locked_memory = "unlimited"
  es_startup_sleep_time = ""
  es_java_opts = ""
  heapsize = "2g"

[deprecated]
external_es = false

[tls]
# root pem cert that signed the two cert/key pairs below
rootCA = """-----BEGIN CERTIFICATE-----
MIIDnTCCAoWgAwIBAgIJAII4U8vSvGigMA0GCSqGSIb3DQEBCwUAMGUxCzAJBgNV
BAYTAlVTMRMwEQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRow
GAYDVQQKDBFDaGVmIFNvZnR3YXJlIEluYzETMBEGA1UEAwwKY2hlZnJvb3RjYTAe
Fw0yMjA0MDEwNDEzMjJaFw0yNTAzMzEwNDEzMjJaMGUxCzAJBgNVBAYTAlVTMRMw
EQYDVQQIDApXYXNoaW5ndG9uMRAwDgYDVQQHDAdTZWF0dGxlMRowGAYDVQQKDBFD
aGVmIFNvZnR3YXJlIEluYzETMBEGA1UEAwwKY2hlZnJvb3RjYTCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMYQJUNtCUvIeZsxGIc/55C8JgEuGQ0RxYSI
v1AnSuGxyQUeL6TmPDhdNJewzIAyNY1i1LjnZSDMUj0qh8bOHf7ivAJnIF/fBJQb
19RaZ0N05uNqeOSEhhbySUaR+c8KQcVtfmhmSyAx14ph2joXL3ImibF1683oydvO
XuxVvxVcjjgVF7A39sYstnSHXp27usHzC9TW3yffQsnaVrTOKy1GToM1d/ZWE4rO
tZ3Gf3ZMnb+dXaBJ+hwZE/67RbGCBFYq1yoKdtIpoIhy6sfFGj6QIMxve0d7iqeq
H0ztJh25TXjgPyR6Klu72rOfqFHuMlCTMgEYLLEvA1aQ1BqTUcMCAwEAAaNQME4w
HQYDVR0OBBYEFLaDBfypUdta8/yq4U4CwrKNyDtdMB8GA1UdIwQYMBaAFLaDBfyp
Udta8/yq4U4CwrKNyDtdMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEB
AE5fbABQbRwQMiSfaZmtdsDo6VNBHzYlDKfzL2UHQgbZBLa1dfo8CMhfy8h+6mXA
uuwex39GrnofaSURnxeTqtZBay5fP5DRA0sv5gNk3AxR44XZbQAOgfs0RRXUrh72
v0KGmn5F12but5MyUKQo+VzDIOn4U9JzHwt0C/TXlC7VL/KQjJdAlYAMA0bTBIC0
/B0PzeMvxhQcJexN2t2xEhsSXGBM7gZSYdIlknMoykt5z0KCTORz2ba71SZS4z56
TSY/vHCM8GG+Z8YxvEp89bGe24XWag0XmNu2i+35zqgyf3cdPD2/C94pTRO8lnTc
veVf8r0gohWGBnLpKUtWMVo=
-----END CERTIFICATE-----"""
# Certificate used for admin actions against https://9200
admin_cert = """-----BEGIN CERTIFICATE-----
MIIDRTCCAi0CCQD/HllbgbxTATANBgkqhkiG9w0BAQsFADBlMQswCQYDVQQGEwJV
UzETMBEGA1UECAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UE
CgwRQ2hlZiBTb2Z0d2FyZSBJbmMxEzARBgNVBAMMCmNoZWZyb290Y2EwHhcNMjIw
NDAxMDQxMzIyWhcNMjUwMzMxMDQxMzIyWjBkMQswCQYDVQQGEwJVUzETMBEGA1UE
CAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UECgwRQ2hlZiBT
b2Z0d2FyZSBJbmMxEjAQBgNVBAMMCWNoZWZhZG1pbjCCASIwDQYJKoZIhvcNAQEB
BQADggEPADCCAQoCggEBAPFkchm+KyaVSfCkObQ09FPKNQMy8dEnRgtsOpBAfX+O
utXvULTnN6c7f1cOatJ43h9lKCsQ7EwH5+4RyX4cGM1MvC9zTFIhTY/NDWh9aTC2
MBmuRtC6yryAHcDL8hs/0XZ+rrJDrqxAq5+Mii9S7SmONnAAVQDQsj02CiBdHmEZ
Ld0xDnDp6P5AF8zU36U6l9ur8CGEmfM5CRkSwzwpZnj2dk1Kn2MSehm4+hpNNPXu
mznMjilFdp9vvxOo/Kofgkrzza7Vhl/3ccZzjYOLLycypjG8UlGg7RpxUyMeIgkA
pYBtItIJQ1di+NPd8oyJuFHMY5Pl4XZewmzsk6QKmaUCAwEAATANBgkqhkiG9w0B
AQsFAAOCAQEAqjj8jc4e2JooixBaoRXaWX8rfHoiNGxZ+F/NpVnB6S7OHe5O9uQi
eV67ZNrApieXZvLuMHJ3tkqPaKmYPz1RD8AR3flXKL43frJ+mWxLbGdlTK/CNz2V
YbTPfK0DNZB7lyG2gKrJ6KnHr2wPQSwED1DPWwHRGcCeCN2Nyv381da6dCRG+mbK
LosfDyC5NG+5v1aiV2cpVj2iRJjHityw7l0L8vujAl0H4FRu0ffPbx+FkhYQRigv
nhkv7jNxs7m8naAnNbPmahWZt8AHSwq7vBPmJgGoBhwMOcpo+U4biE7ZtyD36nT4
0YrNnQ5dgVm9tnGW6dOOjiffw+S1Vvg4gA==
-----END CERTIFICATE-----"""
# the private key associated with the above pem cert
admin_key = """-----BEGIN PRIVATE KEY-----
MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDxZHIZvismlUnw
pDm0NPRTyjUDMvHRJ0YLbDqQQH1/jrrV71C05zenO39XDmrSeN4fZSgrEOxMB+fu
Ecl+HBjNTLwvc0xSIU2PzQ1ofWkwtjAZrkbQusq8gB3Ay/IbP9F2fq6yQ66sQKuf
jIovUu0pjjZwAFUA0LI9NgogXR5hGS3dMQ5w6ej+QBfM1N+lOpfbq/AhhJnzOQkZ
EsM8KWZ49nZNSp9jEnoZuPoaTTT17ps5zI4pRXafb78TqPyqH4JK882u1YZf93HG
c42Diy8nMqYxvFJRoO0acVMjHiIJAKWAbSLSCUNXYvjT3fKMibhRzGOT5eF2XsJs
7JOkCpmlAgMBAAECggEBAIX8xByn4tm6udz5uxHc5tVvgrdw2qrGiumiPGt/cGmS
NwCyonCXetu3ebo/xWloL5rrkj09WnvlU4ZglyAJxnaGJlqMPAvGcn/kSJH8MpwY
NGC8zI/lbszsrBcs3QjlBoYoUR2f1d/E0b5wyu7zr7KGPo8yj/ww2w6A5WQLa+Zm
eG6vbUy+jgGFES4tEuq8TVHsWkwI/LznN7VVG9mfrj+5VVpsS+dKAeEOZeXAm547
NMPwfafOFpebFAFVdfZVx8YEv6t8gnwtC/xTBEg4djMIZF2Nh+acfSQK0LLe6tuC
MK5g0ukBdPm0YYu+cVD3M+XkPDucf5q92iAB0mVgE20CgYEA/1HQUtn8vZi3muf7
eN+WPeKSGB1ClYWt5te8Kt5iSJYEy7rpgZl4BKzXb+JlxR1ropuDyr1UkpFm0taI
ygrk6nq2dF2TA5KKR/0UzBwL7HpiipwqrkzN+MZ5exxBImoX+lIvFa9bCZMiU5dq
mkKLb4DtpiTouI4sMsu3VhhdnxsCgYEA8gkhYc/jZ0Ge53W0n47q4xajp+uTXxPd
tN5r8gZcwt5oZqfKJb/vQFWpopEXuZsjuhGY9SHBHjpt3sX3CnX9z2OpqfbrVOgZ
/KVhe1L06n/zyN3r2aD9EWq8BxTHaN6Kc1BK+h1SkD+NczTO2hkqAHatein7Xurg
I8oU5pGedj8CgYEA2LVOhyQzG5ImNTs1/PB6C2jl68XaICNo6YivVAuRjF6ZD3tE
exYSApXZ/kNBcj94fnpVMJ3mzMjRZ59kV2lLx6IEf1x1ThDxggzTvDMKA9wVC+Vl
bLAQG1oK/m2K83TtiTB8eoFuWgAioKTifLCCvU/HZr/pL8yswyiaIl9oB4UCgYAl
nyu0M4dKhpW3rsEryCBUujEoKeMXdVQSCDzJOxnyJHYf9tbiNUpwOqCKp3kDnczY
4GFhQSTumPB5H1Z+JscUFI7L35jG8ukPL3nOnJ97T/ZJ88z0YCTWLzwY8a7payYk
NIfjBunNiENpc/zvQ9gWiFwA0EPFhkbe6UuEZ4A1KwKBgQCmjcp/qIZyNfuy++7S
mX/0NrTdakyOYowljfXP3GNoggkNKs04qaXyVBvSRAbk6iW6d2Io8J6hrggBPOYb
bzDoJAVxI8KdGeHcK5wP6uvnLUmGmtfITurZgvEnEH7Od4wUc7dton/6Z1FWTKRF
tY16LBGBuh7zDfaGK+HMZGO13g==
-----END PRIVATE KEY-----"""
# Certificate used for intracluster ssl on port 9300
ssl_cert = """-----BEGIN CERTIFICATE-----
MIIDRDCCAiwCCQD/HllbgbxTAjANBgkqhkiG9w0BAQsFADBlMQswCQYDVQQGEwJV
UzETMBEGA1UECAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UE
CgwRQ2hlZiBTb2Z0d2FyZSBJbmMxEzARBgNVBAMMCmNoZWZyb290Y2EwHhcNMjIw
NDAxMDQxMzIyWhcNMjUwMzMxMDQxMzIyWjBjMQswCQYDVQQGEwJVUzETMBEGA1UE
CAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEaMBgGA1UECgwRQ2hlZiBT
b2Z0d2FyZSBJbmMxETAPBgNVBAMMCGNoZWZub2RlMIIBIjANBgkqhkiG9w0BAQEF
AAOCAQ8AMIIBCgKCAQEAowNA1WN3+dxuw5TQX8x1+wK+lmcZYXarDdLkCjO1wb1Z
6UudZqVbH3Ycj8odBSKprxGu/N7jP6uShzVP/YXsAEIbaHmQ9AcNys0TOKUODz6K
5jaD8CfWZe1+Rp64ry15Pi+q+EItJm2n2UH4SQBcZdWkR+tmrwCfwemWgkWoreyy
OmLZr/Wvk5NGSdiMbH32BlgKXXYhGG7D06ZJTgcHTBasevL1d/pTNub8/wuty2do
kXfoGOlfA7Ts6ynW5c5/seWTMFSgf57fLE9S+t5ckdA5EVuJKd/RpYsK9o+r23bl
3MGBcglZC3XIXdSn9Y4VHvZ3Licr6ETk+x9INzztDQIDAQABMA0GCSqGSIb3DQEB
CwUAA4IBAQAZOrJaTc9FLEdRfbVTL5Y1cujEbgRFYjUHzu6jrg0wm+kNyzJaK5TB
togLKeKfo5yZlcL6djldnLghX2OGbOSUiHiHUs/iA27g9Lj8ILQ5sUCFl/86N+AV
4GEtk9YhmLByRV24Mx1i6rveohFSh1lET/07QDUJH7ywZffwG34SEk47GJmdI8QU
A4cHLTe20O8FOFcaqlcUtEmEIHgMNHRadiZIZh6CFaIjmbQFShvoowt1iELw9/c0
e7Q5XJIlc4V7H7X+KWI+blk+Kc09eNx0rjty5X5QhMKC4epahd2PfIyUijXeh8rr
tCnO0eWxTedsmKqYqODrLIONAm70NP7z
-----END CERTIFICATE-----"""
# the private key associated with the above pem cert
ssl_key = """-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCjA0DVY3f53G7D
lNBfzHX7Ar6WZxlhdqsN0uQKM7XBvVnpS51mpVsfdhyPyh0FIqmvEa783uM/q5KH
NU/9hewAQhtoeZD0Bw3KzRM4pQ4PPormNoPwJ9Zl7X5GnrivLXk+L6r4Qi0mbafZ
QfhJAFxl1aRH62avAJ/B6ZaCRait7LI6Ytmv9a+Tk0ZJ2IxsffYGWApddiEYbsPT
pklOBwdMFqx68vV3+lM25vz/C63LZ2iRd+gY6V8DtOzrKdblzn+x5ZMwVKB/nt8s
T1L63lyR0DkRW4kp39Gliwr2j6vbduXcwYFyCVkLdchd1Kf1jhUe9ncuJyvoROT7
H0g3PO0NAgMBAAECggEAN7lN+WQGSEh9KKh/TrAzCHpYsktOFs4dDR2xTHd+w1q6
GJD7nnIaIzgZ7WFW6EGAJdNysQh0QHijH0svK+gS08fFXMJptbGPmmreDjgGBVoI
20d5dKf5l2BHEVcCpQdzcbmTxUfB7WgAv7jYagQQkdMlVFx4/ovFEOGLzL6JOeKr
Hp4theTV+MhkZ5N1CEdd6wU0bz0WTckWVW+UAMNBA7f5l5cIJJRz7rmvZShN3YwF
zwRg7UGJJUID6mz50rwYLWIwQL6DRnTJwID0/ZljirN+yvBdgHVh5TKwSb4Wzp6Y
NQi4tdQDcH98VWYhIDdDLCntQq17c53Ed42Z+Sib4QKBgQDP65FKYqa7jnv7ygKk
auonuqohqKNmArLBARs1c1DdJn76yQgRc2aHvub7DKFDD+/GdFmr/rFi88TZ8IXi
Jhc0jaePHepco/4y3WXYGGI7PiCbqpipngp38xu3mz+w03OEAHdr8AF3fvL8/6QO
cmzCh/2fT0c7/BuW1t2JfJRrRQKBgQDItUI0uBExC23Ht5zPULpY1SgaxkoF3Wrg
rxMiYrmG1+OIJre2R6Wx8zvNzqEvvHZ2sMa0S9RhxtZQy1hdAzR9O3UzhI0SVV7f
sTvOYx1gI+uohsFQacJgoGhiQ5jVR5mggf5k62oDb4V4YtXZ/bcL9E6WP+eab4kY
4GQN7sUzKQKBgQC9qK72gHiA258C9allW1VOejpYy6CJG+r8nUq5fgAESupHTvt6
F58uMhg2ZrXvG2lnyJhHiOM8VQp6lqk5ue8u9AwlQ2+Vo83rjgMplEx+p9RMytfI
2S3JbswYtpfpb2iOv3Iv1lUwMG/sEjEPMJc+95eFK2baM8Ti2gppMGeeVQKBgHeU
Npu+Rs/XpVJmPNDvofanGLvLA/M2liTDaj0EYNDL803881twmHHLHwhhYXtVZ6cT
b2+f9itDEhEU9dKExFMQh6VoBby0jE/uAlnWh3vuKss/bhGA0URMjaRt7bK0c/1D
NdPexkzBtt2g1RSJqvM+XUv7SvuiFCZ0GmiKp4bxAoGBAJ09dojxb2qWaIUrK+pm
mGyybMpbqBA3f906xaj6PkkKcHjjVhVCA5SF3tzY83wSRkEoQjfVb8A3tefzUZG9
rSrThV/bUdpT3Nsi9SIC86j7ECZ5fSdLTsr0Uu/nr7o7utxvlYku7zBMMffj9aJ8
i42qtc/CNJc5f0gINb3l8JN/
-----END PRIVATE KEY-----"""
